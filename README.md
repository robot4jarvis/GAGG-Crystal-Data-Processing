# GAGG-Crystal-Data-Processing
Hello!

In this repository, I have uploaded all the code (at least, the usable code) that I have used to process the data obtained from a GAGG scintillator detector. I have removed practically all the input data and most of the output to have a cleaner repository.

Everything in here was done using C++ and ROOT (root.cern).
## Time resolution analysis
### Ascii_File_Reader:
This folder serves to turn the ascii files outputed by CAEN's WaveCatcher into much more convenient and light .root files, where each waveform captured by the digitizer corresponds to a TGraph. WaveCatcher usually splits the data into many files, which must be placed in a folder within "Ascii_File_Reader".

When one launches the loop.C macro, it will take all files in said folder (which must be specified inside the script) and use the function asciiReader() (defined in asciiReader.h) to read them and generate a single .root file with all the graphs. In this .root file one can find one TObjArray for every event. This TObjArray contains two TGraph objects, each one corresponding to one channel.

The asciiReader.h function can only read files with two channels. It could be modified to read inputs with more or less channels.

### Waveform_analysis
In this folder one can find all the necessary macros to read the .root files generated by the previous folder. By placing them in the "ROOTFILES" folder (now empty), and indicating its names inside the filterSpectra.C macro, these waveforms will be read and processed.

## Energy histogram analysis
### Energy_Histogram_Maker
An event list in .root format was generated using the COMPASS software and a digitizer. To extract a Energy histogram from there, all .root files must be placed in the "root" folder. One energy histogram will be generated for each file (or several, if a file contains more than one cycle). Then, the loop.C script will be launched. It needs the macro.C and the macro.h files in the same folder.
The script will loop trough all the .root files in the "root" folder, and build a histogram using the data in the Data_F;1 tree, "Energy" leave.
All the resulting TH1D objects are saved in the "output.root" file. You can then process this "output.root" folder with the following macros.
    
